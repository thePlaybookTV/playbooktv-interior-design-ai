# ============================================================================
# Railway Deployment Requirements (Minimal - API Only)
# ============================================================================
# Ultra-lightweight for Railway - NO ML models, Modal handles everything
# ============================================================================

# Core Dependencies
numpy>=1.24.0
Pillow>=10.3.0

# Computer Vision (lightweight - for basic image ops only)
opencv-python-headless>=4.8.1.78  # Headless version (no GUI, smaller)

# API Server
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6
websockets>=12.0

# Redis for job queue
redis>=5.0.0
hiredis>=2.2.0

# Modal SDK (lightweight client)
modal>=0.57.0

# Cloud Storage (Cloudflare R2 - S3 Compatible)
boto3>=1.28.0
botocore>=1.31.0

# Utilities
requests>=2.32.4
python-dotenv>=1.0.0

# ============================================================================
# REMOVED from Railway (runs on Modal GPU instead):
# ============================================================================
# - torch/torchvision - Heavy (800MB+), not needed
# - transformers - Heavy, not needed
# - timm - Not needed
# - scikit-image - Not needed
# - ultralytics (YOLO) - Runs on Modal
# - SAM2 - Runs on Modal
# - All training dependencies
# ============================================================================

# ============================================================================
# Strategy:
# ============================================================================
# Railway API:
#   - Receives upload
#   - Creates job in Redis
#   - Sends to Modal
#   - Streams WebSocket updates
#
# Modal:
#   - Runs YOLO + SAM2 detection (if needed)
#   - Generates control images (depth, edges)
#   - Runs SD 1.5 + ControlNet
#   - Returns result URL
# ============================================================================
